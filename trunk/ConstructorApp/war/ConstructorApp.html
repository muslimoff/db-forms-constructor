<meta http-equiv="X-UA-Compatible" content="chrome=1">
<html>
	<head>
		<title>Forms Constructor</title>
		<link rel="stylesheet" href="ConstructorApp.css">
		<meta name="gwt:property" content="locale=ru_RU">
	</head>
	<body>
		<iframe id="__gwt_historyFrame" style="width: 0; height: 0; border: 0"></iframe>
		<script type="text/javascript">
			//Tomcat:	var isomorphicDir = "../../sc/";
			//OEBS:		var isomorphicDir = "sc/";
			//HostedMode 	var isomorphicDir = "constructorapp/sc/"    ;
			var isomorphicDir = "constructorapp/sc/";
			var clientVersion = "@version@";
			var indicatorDiv  = "<div id=\"loadingWrapper\"><div id=\"loading\"><div class=\"loadingIndicator\"><img src=\""+
								isomorphicDir+
								"resources/loading.gif\" width=\"32\" height=\"32\""+
								" style=\"margin-right: 8px; float: left; vertical-align: top;\" />"+
								"SmartGWT"+"<br /><span id=\"loadingMsg\">Loading styles and images...</span></div></div></div>"			
			document.write(indicatorDiv);
			//
			function readCookie(name) {
				var nameEQ = name + "=";
				var ca = document.cookie.split(';');
				for ( var i = 0; i < ca.length; i++) {
					var c = ca[i];
					while (c.charAt(0) == ' ')  c = c.substring(1, c.length);
					if (c.indexOf(nameEQ) == 0)	return c.substring(nameEQ.length, c.length);
				}
				return null;
			}
			
			function setIndicatiorMsg(text) {
				document.write("<" + "script type=\"text/javascript\"> document.getElementById('loadingMsg').innerHTML = '"+text+"'; <" + "/script>");
				return null;
			}
			function docWrite(scriptName, msgText){
				var start_ 				= "<" + "script type=\"text/javascript\" language=\"javascript\" src=" + isomorphicDir;
				var end_				= "?isc_version=8.2.js><" + "/script>";		
				
				setIndicatiorMsg(null==msgText?'Loading script: <br><b>'+scriptName+'</b>':msgText);
				document.write(start_ + scriptName + end_);
				return null;
			}
			
			var modulesDir			= "modules/";
			setIndicatiorMsg();	
			docWrite(modulesDir + "ISC_Core.js");
			docWrite(modulesDir + "ISC_Foundation.js");
			docWrite(modulesDir + "ISC_Containers.js");
			docWrite(modulesDir + "ISC_Grids.js");
			docWrite(modulesDir + "ISC_Forms.js");
			docWrite(modulesDir + "ISC_RichTextEditor.js");
			docWrite(modulesDir + "ISC_Calendar.js");
			docWrite(modulesDir + "ISC_DataBinding.js");

			// Determine what skin file to load
			var currentSkin = readCookie('skin');
			currentSkin = currentSkin==null?"Enterprise":currentSkin;
			
			//load skin
			docWrite(
				"skins/" + currentSkin + "/load_skin.js",
				'Loading Application<br> Skin:' + currentSkin + '<br><b>Please wait...</b>');
			
			//include the application JS
			setIndicatiorMsg('Loading Application scripts...');
		</script>
		<script type="text/javascript" language="javascript" src="constructorapp/constructorapp.nocache.js?@version@"></script>
		
	</body>
</html>
